<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignUp Form</title>
    <link rel="stylesheet" href="./index.css">
    <link rel="shortcut icon" href="./images/favicon-32x32.png" type="image/x-icon">
</head>
<body>
    <main class="container d-flex flex-column justify-content-md-center vh-100">
        <div class="row row-cols-1 row-cols-md-2 mb-4">
            <section class="col description text-light p-5 d-flex flex-column justify-content-center">
                <h1 class="form__title">Learn to code by watching others</h1>
                <p>See how experienced developers solve problems in real-time. Watching scripted tutorials is great, 
                    but understanding how developers think is invaluable.</p>
            </section>
            <section class="col">
                <div class="d-grid gap-2 mb-3 ">
                    <p class="bg-primary btn text-light form__shadow py-3 pe-none"><strong>Try it free 7 days</strong> then $20/mo. thereafter</p>
                </div>
                <form class=" sign-up bg-light rounded p-4 form__shadow" action="" novalidate>
                    <div class="form-floating">
                        <input type="text" name="firstName" class="form-control" id="formFirstName" placeholder="First Name" pattern="[a-zA-Z]{2,}" required>
                        <label for="formFirstName">First Name</label>
                        <div class="form-text text-danger text-end form--invalid">Fist Name Can Not Be Empty</div>
                        <span></span>
                    </div>
                    <div class="form-floating">
                        <input type="text" name="lastName" class="form-control" id="formLastName" placeholder="Last Name" pattern="[a-zA-Z]{2,}" required>
                        <label for="formLastName">Last Name</label>
                        <div class="form-text text-danger text-end form--invalid">Last Name Can Not Be Empty</div>
                    </div>
                    <div class="form-floating">
                        <input type="email" name="email" class="form-control" id="formEmail" placeholder="Email Address" pattern="^\w+@\w+\.\w+$" required>
                        <label for="formEmail">Email Address</label>
                        <div class="form-text text-danger text-end form--invalid">Email Can Not Be Empty</div>
                    </div>
                    <div class="form-floating">
                        <input type="password" name="password" class="form-control" id="formPw" placeholder="Password" required>
                        <label for="formPw">Password</label>
                        <div class="form-text text-danger text-end form--invalid">Password Can Not Be Empty</div>
                    </div>
                    <div class="d-grid gap-2 mb-3">
                        <button class="btn btn-success form__btn py-2" type="submit">Claim your free trial</button>
                        <div class="form-text">By clicking the button, you are agreeing to our <a href="#" class="text-danger">Terms and Services</a></div>
                    </div>
                </form>
            </section>
        </div>
        <div class="row">
            <div class="col">
                <footer class="text-center">
                    <p class="attribution">
                      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
                      Coded by <a href="#">thekindbard</a>.
                    </p>
                  </footer>
            </div>
        </div>
    </main>
    
    <script>

        function deleteError() {
            this.classList.remove("invalid");
            this.removeEventListener( "input", deleteError );
        }

        function checkingValidity(e) {
            e.preventDefault();
            const form = e.target;
            form.querySelectorAll('input').forEach(input => {
                if(!input.validity.valid) {
                    if(input.validity.valueMissing) {
                        input.parentElement.querySelector('div.form--invalid').innerText = `${input.placeholder} Cannot Be Empty`;
                    } else if (input.validity.patternMismatch){
                        let msj =  (input.name == "email") ? "This format: example@example.com" : "Again";
                        input.parentElement.querySelector('div.form--invalid').innerText = `Invalid. Try ${msj}`;
                    }
                    input.addEventListener( "input", deleteError);
                    input.classList.add('invalid');
                }
            });
            if( form.checkValidity() ) {
                form.submit();
            }
        }

        document.querySelector('form.sign-up').addEventListener('submit', checkingValidity);
    </script>
</body>
</html>